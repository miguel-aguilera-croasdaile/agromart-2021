<div class="container">
  <br>
  <div class="row">
    <div class="d-none d-md-flex col-md-5 col-lg-5 col-xl-5 d-flex justify-content-start align-items-center">
    </div>
    <div class="col-3 col-md-2 col-lg-2 col-xl-2 d-flex justify-content-start align-items-center">
      <% if params[:name] %>
        <%= @listings.count %> listings found
      <% else %>
        <%= @listings.count %> listings
      <% end %>
    </div>
    <div class="col-9 col-md-5 col-lg-5 col-xl-5 d-flex justify-content-end align-items-center">
      <div class="sort-controls">
        <div class="sort-label">
          <p> Sorted by</p>
        </div>

        <div class="dropdown">
          <div class="product-dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
            <% if params[:sort_by].present? %>
              <p> <%= params[:sort_by].titleize %></p>
            <% else %>
              <div class="d-flex justify-content-between">
                <p> Default</p>
                <i class="fas fa-chevron-down center-horizontally-and-vertically "></i>
              </div>
            <% end %>
          </div>
          <ul class="dropdown-menu" id="product-sort">
            <li class="search-dropdown-link"> <%= link_to "Default", listings_path %></li>
            <li class="search-dropdown-link"> <%= link_to "Most Recent", listings_path(sort_by: "most_recent") %></li>
            <li class="search-dropdown-link"> <%= link_to "Highest Price", listings_path(sort_by: "highest_price") %></li>
            <li class="search-dropdown-link"> <%= link_to "Lowest Price", listings_path(sort_by: "lowest_price") %></li>
            <li class="search-dropdown-link"> <%= link_to "Most", listings_path(sort_by: "most") %></li>
            <li class="search-dropdown-link"> <%= link_to "Least", listings_path(sort_by: "least") %></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="d-none d-md-block col-md-3 col-lg-3 col-xl-3">
      <div class="listing-card">
        <p>Category</p>
        <hr>
        <p>Price</p>
        <hr>
        <p>Location</p>
        <hr>
      </div>
    </div>
    <div class="col-sm-12 col-md-9 col-lg-9 col-xl-9">
      <div class="row">
        <% @listings.each do |l| %>
          <div class="listing-card-wrapper col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4" style="margin-bottom: 20px">
            <%= link_to listing_path(l) do %>
              <div class="listing-card">
                <p style="margin: 0"><%= l.name %></p>
                <p style="margin: 0"><%= l.quantity %> <%= l.quantity_unit %></p>
                <p style="margin: 0"><%= l.currency %> <%= l.price %></p>
              </div>
            <% end %>
            <div class="d-flex justify-content-between align-items-center">
              <p style="margin:0">Posted <%= time_ago_in_words(l.created_at) %> ago</p>
              <i class="far fa-heart"></i>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<hr>
